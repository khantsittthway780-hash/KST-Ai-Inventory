
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Add New Item</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-slate-100 p-6 flex flex-col items-center justify-center min-h-screen">
    <div class="w-full max-w-md space-y-4">
        <h2 class="text-2xl font-bold mb-6 text-center">Admin: Add Item</h2>
        <input id="name" type="text" placeholder="Item Name" class="w-full bg-slate-800 p-3 rounded border border-slate-700 outline-none focus:ring-2 focus:ring-blue-500">
        <select id="cat" class="w-full bg-slate-800 p-3 rounded border border-slate-700 outline-none">
            <option value="PG Soft">PG Soft</option>
            <option value="Pragmatic Play">Pragmatic Play</option>
            <option value="NetEnt">NetEnt</option>
        </select>
        <input id="rating" type="number" step="0.01" placeholder="Rating %" class="w-full bg-slate-800 p-3 rounded border border-slate-700 outline-none">
        <input id="feat" type="text" placeholder="Complexity (e.g. High, Medium)" class="w-full bg-slate-800 p-3 rounded border border-slate-700 outline-none">
        
        <button onclick="addItem()" class="w-full bg-blue-600 hover:bg-blue-500 py-3 rounded font-bold transition">Save to Database</button>
        <a href="index.html" class="block text-center text-slate-500 mt-4 underline italic text-sm">Back to Home</a>
    </div>

    <script type="module">
        import { db } from './firebase-config.js';
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        window.addItem = async () => {
            const name = document.getElementById('name').value;
            const category = document.getElementById('cat').value;
            const rating = parseFloat(document.getElementById('rating').value);
            const features = document.getElementById('feat').value;

            if(!name || !rating) return alert("Please fill Name and Rating!");

            try {
                await addDoc(collection(db, "products"), {
                    name, category, rating, features,
                    timestamp: new Date()
                });
                alert("Data Saved Successfully!");
                location.reload();
            } catch(e) {
                console.error(e);
                alert("Error saving data. Check Console.");
            }
        };
    </script>
</body>
</html>
